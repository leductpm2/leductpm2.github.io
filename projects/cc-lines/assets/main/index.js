System.register("chunks:///_virtual/boolean-fuser.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"fe880BvK6hMN6/2jnYQD0Bc","boolean-fuser",void 0);t("default",function(){function t(t){this._dataMap=new Map,this._currentValue=!0,this._onValueChanged=void 0,this._onValueChanged=t}var e=t.prototype;return e.setValue=function(t,e){return void 0===e&&(e="default"),this._dataMap.set(e,t),this._updateValue(),this._currentValue},e.getValue=function(){return this._currentValue},e.clearData=function(){this._dataMap.clear()},e.setCallback=function(t){this._onValueChanged=t},e._calculateNewValue=function(){var t=!0;return this._dataMap.forEach((function(e){t&&(t=e)})),t},e._updateValue=function(){var t=this._calculateNewValue();this._currentValue!==t&&(this._currentValue=t,this.onValueChanged(this._currentValue))},e.onValueChanged=function(t){"function"==typeof this._onValueChanged&&this._onValueChanged(t)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Bubble.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,r,s,i,o,a,u,c,p,l,b,f,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,s=t.assertThisInitialized,i=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){a=t.cclegacy,u=t._decorator,c=t.SpriteFrame,p=t.Sprite,l=t.Component,b=t.Tween,f=t.tween,h=t.v3}],execute:function(){var _,S,y,d,B;t("BUBBLE_STATE",void 0),a._RF.push({},"90aaeQWqQFNV7R2z0QPSd1T","Bubble",void 0);var m,v=u.ccclass,E=u.property;!function(t){t[t.SMALL=0]="SMALL",t[t.BIG=1]="BIG",t[t.SELECTED=2]="SELECTED",t[t.DESTROYING=3]="DESTROYING"}(m||(m=t("BUBBLE_STATE",{})));t("Bubble",(_=v("GameGrid"),S=E(c),_((B=e((d=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i))||this,r(e,"typeSpriteFrames",B,s(e)),e._spriteComponent=void 0,e._type=0,e._state=m.SMALL,e._basePosition=void 0,e}n(e,t);var a=e.prototype;return a.onLoad=function(){this._spriteComponent=this.node.getComponent(p)},a.initBubble=function(){var t=i(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._type=e,this._spriteComponent.spriteFrame=this.typeSpriteFrames[this._type],t.next=4,this._setBubbleState(m.SMALL);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a._setBubbleState=function(){var t=i(o().mark((function t(e){var n=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){switch(n._state){case m.SMALL:case m.BIG:break;case m.SELECTED:b.stopAllByTarget(n.node),n.node.position=n._basePosition;break;case m.DESTROYING:}switch(n._state=e,e){case m.SMALL:n.node.setScale(0,0);f(n.node).to(.06,{scale:h(.3,.3,1)}).to(.1*.4,{scale:h(.2,.2,1)}).call((function(){t()})).start();break;case m.BIG:f(n.node).to(.06,{scale:h(1.1,1.1,1)}).to(.1*.4,{scale:h(1,1,1)}).call((function(){t()})).start();break;case m.SELECTED:n._basePosition=n.node.getPosition().clone();f(n.node).to(.12,{position:h(n._basePosition.x,n._basePosition.y,n._basePosition.z),scale:h(1.1,.9,1)}).to(.4*.4,{position:h(n._basePosition.x,n._basePosition.y+20,n._basePosition.z),scale:h(.9,1.1,1)}).to(.12,{position:h(n._basePosition.x,n._basePosition.y+20,n._basePosition.z),scale:h(1,1,1)}).union().repeatForever().start(),t();break;case m.DESTROYING:f(n.node).to(.2,{scale:h(0,0,0)}).call((function(){n.node.destroy(),t()})).start()}})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a.isSmallBubble=function(){return this._state==m.SMALL},a.getType=function(){return this.isSmallBubble()?-1:this._type},a.setData=function(){var t=i(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._type=e.type,this._spriteComponent.spriteFrame=this.typeSpriteFrames[this._type],t.next=4,this._setBubbleState(e.state);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a.getData=function(){return{type:this._type,state:this._state}},a.growBubble=function(){var t=i(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isSmallBubble()){t.next=3;break}return t.next=3,this._setBubbleState(m.BIG);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.destroyBubble=function(){var t=i(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._setBubbleState(m.DESTROYING);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.selectBubble=function(){var t=i(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.node.setSiblingIndex(Number.POSITIVE_INFINITY),t.next=3,this._setBubbleState(m.SELECTED);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.deselectBubble=function(){var t=i(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._setBubbleState(m.BIG);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e}(l)).prototype,"typeSpriteFrames",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=d))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonRedo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Events.ts","./EventEmiiter.ts","./boolean-fuser.ts"],(function(t){"use strict";var n,o,e,u,i,r,s,c,a;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,u=t.Button,i=t.EventHandler,r=t.Component},function(t){s=t.default},function(t){c=t.EventEmitter},function(t){a=t.default}],execute:function(){var l;o._RF.push({},"743c6LAAWdEYZzJnubYBZk0","ButtonRedo",void 0);var p=e.ccclass,E=(e.property,e.requireComponent);t("ButtonRedo",p("ButtonRedo")(l=E(u)(l=function(t){function o(){for(var n,o=arguments.length,e=new Array(o),u=0;u<o;u++)e[u]=arguments[u];return(n=t.call.apply(t,[this].concat(e))||this)._buttonComponent=void 0,n._booleanFuser=void 0,n}n(o,t);var e=o.prototype;return e.onLoad=function(){var t=this;this._booleanFuser=new a((function(n){t._buttonComponent.interactable=n}));var n=new i;n.target=this.node,n.component="ButtonRedo",n.handler="onButtonClicked",this._buttonComponent=this.getComponent(u),this._buttonComponent.clickEvents.push(n),this._buttonComponent.transition=1,c.On(s.REDO_STATE,(function(n){t._booleanFuser.setValue(n,"UNDO_STATE")})),c.On(s.START_PROCESSING,(function(){t._booleanFuser.setValue(!1,"GAME_PROCESSING")})),c.On(s.END_PROCESSING,(function(){t._booleanFuser.setValue(!0,"GAME_PROCESSING")}))},e.onButtonClicked=function(){c.Emit(s.REDO_CLICKED)},o}(r))||l)||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonSound.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e,o,i,r,u,a,s,c,l,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,u=t._decorator,a=t.Button,s=t.CCBoolean,c=t.Node,l=t.EventHandler,p=t.Component}],execute:function(){var d,f,h,v,b,O,B,m,y,C;r._RF.push({},"6b137kCIv5OLayWX8wdT1VW","ButtonSound",void 0);var g=u.ccclass,N=u.property,_=u.requireComponent;t("ButtonSound",(d=g("ButtonSound"),f=_(a),h=N(s),v=N(c),b=N(c),d(O=f((m=n((B=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return n=t.call.apply(t,[this].concat(r))||this,o(n,"isOn",m,i(n)),o(n,"OnNode",y,i(n)),o(n,"OffNode",C,i(n)),n._buttonComponent=void 0,n}e(n,t);var r=n.prototype;return r.onLoad=function(){var t=new l;t.target=this.node,t.component="ButtonSound",t.handler="onButtonClicked",this._buttonComponent=this.getComponent(a),this._buttonComponent.clickEvents.push(t),this._buttonComponent.transition=1,this.updateButton()},r.updateButton=function(){this.isOn?(this.OnNode.active=!0,this.OffNode.active=!1):(this.OnNode.active=!1,this.OffNode.active=!0)},r.onButtonClicked=function(){this.isOn=!this.isOn,this.updateButton()},n}(p)).prototype,"isOn",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),y=n(B.prototype,"OnNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=n(B.prototype,"OffNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=B))||O)||O));r._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonUndo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Events.ts","./EventEmiiter.ts","./boolean-fuser.ts"],(function(t){"use strict";var n,o,e,u,i,r,s,c,a;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,u=t.Button,i=t.EventHandler,r=t.Component},function(t){s=t.default},function(t){c=t.EventEmitter},function(t){a=t.default}],execute:function(){var l;o._RF.push({},"5ce64K5Jx5AXbVzWEeigk+b","ButtonUndo",void 0);var p=e.ccclass,_=(e.property,e.requireComponent);t("ButtonUndo",p("ButtonUndo")(l=_(u)(l=function(t){function o(){for(var n,o=arguments.length,e=new Array(o),u=0;u<o;u++)e[u]=arguments[u];return(n=t.call.apply(t,[this].concat(e))||this)._buttonComponent=void 0,n._booleanFuser=void 0,n}n(o,t);var e=o.prototype;return e.onLoad=function(){var t=this;this._booleanFuser=new a((function(n){t._buttonComponent.interactable=n}));var n=new i;n.target=this.node,n.component="ButtonUndo",n.handler="onButtonClicked",this._buttonComponent=this.getComponent(u),this._buttonComponent.clickEvents.push(n),this._buttonComponent.transition=1,c.On(s.UNDO_STATE,(function(n){t._booleanFuser.setValue(n,"UNDO_STATE")})),c.On(s.START_PROCESSING,(function(){t._booleanFuser.setValue(!1,"GAME_PROCESSING")})),c.On(s.END_PROCESSING,(function(){t._booleanFuser.setValue(!0,"GAME_PROCESSING")}))},e.onButtonClicked=function(){c.Emit(s.UNDO_CLICKED)},o}(r))||l)||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,o,i,n,s,l,r,a,g,h,c,p,C,d,m,u,T;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,c=t.instantiate,p=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,T=t.Component}],execute:function(){var L,f,M,b,v,x,E,S,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(L=A("internal.DebugViewRuntimeControl"),f=y(r),M=y(r),b=y(r),L((E=e((x=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",E,n(e)),i(e,"singleModeToggle",S,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct TRT","Env TRT","TRT All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","TRT","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=c(s);l.parent=this.node,l.name="Buttons";var r=c(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var T=c(this.EnableAllCompositeModeButton.getChildByName("Label"));T.setPosition(i+(u>0?450:150),n,0),T.setScale(.75,.75,.75),T.parent=r;var L=T.getComponent(p);L.string=u?"----------Composite Mode----------":"----------Single Mode----------",L.color=a.WHITE,L.overflow=0,this.labelComponentList[this.labelComponentList.length]=L}n-=20;for(var f=0,M=0;M<this.strSingle.length;M++,f++){M===this.strSingle.length>>1&&(i+=200,f=0);var b=M?c(this.singleModeToggle):this.singleModeToggle;b.setPosition(i,n-20*f,0),b.setScale(.5,.5,.5),b.parent=this.singleModeToggle.parent;var v=b.getComponentInChildren(C);v.string=this.strSingle[M],this.textComponentList[this.textComponentList.length]=v,this.textContentList[this.textContentList.length]=v.string,b.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[M]=b}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var x=this.EnableAllCompositeModeButton.getComponentInChildren(p);this.labelComponentList[this.labelComponentList.length]=x;var E=c(this.EnableAllCompositeModeButton);E.setPosition(i+90,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.changeTextColor,this),E.parent=l,(x=E.getComponentInChildren(p)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=x;var S=c(this.EnableAllCompositeModeButton);S.setPosition(i+200,n,0),S.setScale(.5,.5,.5),S.on(m.EventType.CLICK,this.hideUI,this),S.parent=this.node.parent,(x=S.getComponentInChildren(p)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=x,this.hideButtonLabel=x,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=c(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?c(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(T)).prototype,"compositeModeToggle",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(x.prototype,"singleModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(x.prototype,"EnableAllCompositeModeButton",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=x))||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/EventEmiiter.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"00168MoYNtLjbdMML/ahX+H","EventEmiiter",void 0);var n=function(){function t(t,e){this.callback=void 0,this.count=0,this.callback=t,this.count=Math.max(e,0)}return t.prototype.Emit=function(){if(this.count>0)try{this.callback.apply(this,arguments),--this.count}catch(t){console.error(t)}return this.count>0},t}(),r=t("EventEmitter",function(){function t(){}return t.On=function(e,r,i){void 0===i&&(i=Number.POSITIVE_INFINITY);var c=t._nextId++;return t.events.has(e)||t.events.set(e,new Map),t.events.get(e).set(c,new n(r,i)),c},t.Once=function(e,n){return t.On(e,n,1)},t.Off=function(e,n){var r;return!(null==(r=t.events.get(e))||!r.has(n))&&(t.events.get(e).delete(n),!0)},t.Emit=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.events.get(e)?(t.events.get(e).forEach((function(n,i){n.Emit.apply(n,r)||t.events.get(e).delete(i)})),!!t.events.get(e).size||(t.events.delete(e),!1)):(console.warn("[EventEmitter] Event without subscribers: "+e),!1)},t}());r.events=new Map,r._nextId=0,e._RF.pop()}}}));

System.register("chunks:///_virtual/Events.ts",["cc"],(function(E){"use strict";var _;return{setters:[function(E){_=E.cclegacy}],execute:function(){_._RF.push({},"3bf5fk3kV1F1q0SJK+nHAMb","Events",void 0);var O=E("default",(function(){}));O.SELECT_TILE="SELECT_TILE",O.DESELECT_TILE="DESELECT_TILE",O.SMALL_BUBBLE_OVERRIDE="SMALL_BUBBLE_OVERRIDE",O.START_PROCESSING="START_PROCESSING",O.END_PROCESSING="END_PROCESSING",O.SCORE_GAIN="SCORE_GAIN",O.NEW_GAME="NEW_GAME",O.SAVE_MOVE_DATA="SAVE_MOVE_DATA",O.UNDO_STATE="UNDO_STATE",O.REDO_STATE="REDO_STATE",O.UNDO_CLICKED="UNDO_CLICKED",O.REDO_CLICKED="REDO_CLICKED",O.ON_UNDO="ON_UNDO",O.ON_REDO="ON_REDO",_._RF.pop()}}}));

System.register("chunks:///_virtual/FitScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,o,i,r,a,s,l,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.CCBoolean,l=e.view,c=e.UITransform,u=e.Component}],execute:function(){var p,g,S,y,d;r._RF.push({},"e32a2fz/zpAB7b9Si1pbFsV","FitScreen",void 0);var f=a.ccclass,v=a.property;e("FitScreen",(p=f("FitScreen"),g=v(s),p((d=t((y=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"useScale",d,i(t)),t._alignGameFollowingResolution=function(){var e=l.getDesignResolutionSize();t.node.getComponent(c).setContentSize(e);var n=l.getViewportRect(),o=l.getVisibleSize();switch(!0){case n.x>0:var i=(o.x+n.x/l.getScaleX()*2)/o.x;t.useScale?t.node.setScale(i,1,1):t.node.getComponent(c).setContentSize(e.x*i,e.y);break;case n.y>0:var r=(o.y+n.y/l.getScaleY()*2)/o.y;t.useScale?t.node.setScale(1,r,1):t.node.getComponent(c).setContentSize(e.x,e.y*r)}},t}n(t,e);var r=t.prototype;return r.onLoad=function(){this._alignGameFollowingResolution(),window.addEventListener("resize",this._alignGameFollowingResolution)},r.onDestroy=function(){window.removeEventListener("resize",this._alignGameFollowingResolution)},t}(u)).prototype,"useScale",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=y))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameGrid.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GridTile.ts","./Bubble.ts","./InstanceManager.ts","./EventEmiiter.ts","./Events.ts"],(function(e){"use strict";var t,n,r,i,a,u,s,l,c,o,b,h,f,p,g,d,_,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.asyncToGenerator,u=e.regeneratorRuntime},function(e){s=e.cclegacy,l=e._decorator,c=e.Prefab,o=e.Node,b=e.instantiate,h=e.Component,f=e.tween},function(e){p=e.GridTile},function(e){g=e.Bubble},function(e){d=e.default},function(e){_=e.EventEmitter},function(e){v=e.default}],execute:function(){var T,m,E,y,x,B,k,I,S,G,P,w;s._RF.push({},"e6ae9MuWitG7owbOZQmSuLd","GameGrid",void 0);var M=l.ccclass,L=l.property;e("GameGrid",(T=M("GameGrid"),m=L(c),E=L(o),y=L(c),x=L(o),T(((w=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];return t=e.call.apply(e,[this].concat(a))||this,r(t,"gridTilePrefab",I,i(t)),r(t,"gridTilesLayer",S,i(t)),r(t,"bubblePrefab",G,i(t)),r(t,"bubblesLayer",P,i(t)),t._gridMap=new Map,t._gridMapFlatten=[],t._selectedGridTile=null,t._isProcessing=!1,t._isGameStarting=!1,t._bubbleTypes=[0,1,2],t}n(t,e);var s=t.prototype;return s.onLoad=function(){var e=this;d.getInstance().setInstance(this,"GameGrid"),this._initGrid(),_.On(v.SELECT_TILE,a(u().mark((function t(n){var r,i,a,s,l,c;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e._isGameStarting){t.next=2;break}return t.abrupt("return");case 2:if(!e._isProcessing){t.next=4;break}return t.abrupt("return");case 4:if(e._selectedGridTile!=n){t.next=7;break}return _.Emit(v.DESELECT_TILE),t.abrupt("return");case 7:if(null==n||!n.getBubble()||null!=n&&null!=(r=n.getBubble())&&r.isSmallBubble()){t.next=14;break}null==(i=e._selectedGridTile)||null==(a=i.getBubble())||a.deselectBubble(),e._selectedGridTile=n,null==(s=e._selectedGridTile)||null==(l=s.getBubble())||l.selectBubble(),e._updatePathCost(e._selectedGridTile),t.next=22;break;case 14:if(e._selectedGridTile&&!e._isProcessing){t.next=16;break}return t.abrupt("return");case 16:return _.Emit(v.START_PROCESSING),c=e._selectedGridTile,_.Emit(v.DESELECT_TILE),t.next=21,e._moveBubble(c,n);case 21:_.Emit(v.END_PROCESSING);case 22:case"end":return t.stop()}}),t)})))),_.On(v.DESELECT_TILE,(function(){var t,n;null==(t=e._selectedGridTile)||null==(n=t.getBubble())||n.deselectBubble(),e._selectedGridTile=null})),_.On(v.SMALL_BUBBLE_OVERRIDE,(function(t){var n=t.getBubble(),r=e.getRandomEmptyTiles(1)[0];r?(r.setBubble(n),n.growBubble()):n.destroyBubble(),t.setBubble(null)})),_.On(v.START_PROCESSING,(function(){e._isProcessing=!0})),_.On(v.END_PROCESSING,(function(){e._isProcessing=!1,e._checkLose()})),_.On(v.ON_UNDO,(function(t){e.updateGridData(t.grid)})),_.On(v.ON_REDO,(function(t){e.updateGridData(t.grid)}))},s.onEnable=function(){this.startGame()},s.startGame=function(){var e=a(u().mark((function e(){var t=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){_.Emit(v.START_PROCESSING),_.Emit(v.NEW_GAME),t.scheduleOnce(a(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([t._newBubbles(),t._growBubbles(),t._newBubbles()]);case 2:_.Emit(v.END_PROCESSING),t._isGameStarting=!0,e();case 5:case"end":return n.stop()}}),n)}))),.5)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s.endGame=function(){var e=a(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._isGameStarting=!1;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.updateGridData=function(){var e=a(u().mark((function e(t){var n,r=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _.Emit(v.START_PROCESSING),n=[],this._gridMapFlatten.forEach((function(e,i){var a;if(null==(a=e.getBubble())||a.destroyBubble(),e.setBubble(null),t[i]){var u=b(r.bubblePrefab);r.bubblesLayer.addChild(u);var s=u.getComponent(g);e.setBubble(s);var l=s.setData(t[i]);n.push(l)}})),e.next=5,Promise.all(n);case 5:_.Emit(v.END_PROCESSING);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.getGridData=function(){var e=[];return this._gridMapFlatten.forEach((function(t){var n,r=null==(n=t.getBubble())?void 0:n.getData();e.push(r||null)})),e},s._initGrid=function(){for(var e=0;e<t.GRID_SIZE.y;e++)for(var n=0;n<t.GRID_SIZE.y;n++){var r=b(this.gridTilePrefab);this.gridTilesLayer.addChild(r);var i=r.getComponent(p);i.initData(e,n),this._gridMap.has(e)||this._gridMap.set(e,new Map),this._gridMap.get(e).set(n,i),this._gridMapFlatten.push(i)}},s.getTile=function(e,t){return this._gridMap.has(e)&&this._gridMap.get(e).has(t)?this._gridMap.get(e).get(t):null},s.getEmptyTiles=function(){for(var e=this._gridMapFlatten.filter((function(e){return!e.getBubble()})),t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=[e[n],e[t]];e[t]=r[0],e[n]=r[1]}return e},s.getRandomEmptyTiles=function(e){void 0===e&&(e=3);var t=this.getEmptyTiles();return t.slice(0,Math.min(t.length,e))},s._updatePathCost=function(e){this._gridMapFlatten.forEach((function(e){e.updatePathCost(-1,!1)})),this._breadthFirstTraversal(e)},s._breadthFirstTraversal=function(e){if(e){var t=[{x:0,y:-1},{x:0,y:1},{x:-1,y:0},{x:1,y:0}];e.updatePathCost(0,!0);for(var n,r=[e];r.length;)for(var i=r.shift(),a=i.getTileIndex(),u=0;u<t.length;u++){var s=this.getTile(a.y+t[u].y,a.x+t[u].x);(n=s)&&n.isMoveable()&&!n.getPathChecked()&&(s.updatePathCost(i.getPathCost()+1,!0),r.push(s))}}},s._getMoveStack=function(e,t){for(var n=this,r=[{x:0,y:-1},{x:0,y:1},{x:-1,y:0},{x:1,y:0}],i=null,a=function(){var a=n.getTile(t.getTileIndex().y+r[u].y,t.getTileIndex().x+r[u].x);return a?-1==a.getPathCost()||e.filter((function(e){return e==a})).length?"continue":void(i?i.getPathCost()>=a.getPathCost()&&(i=a):i=a):"continue"},u=0,s=r.length;u<s;u++)a();return i&&0!=i.getPathCost()?(e.push(i),this._getMoveStack(e,i)):e},s._moveBubble=function(){var e=a(u().mark((function e(t,n){var r=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.getPathCost()<=0)){e.next=5;break}return _.Emit(v.DESELECT_TILE),e.abrupt("return");case 5:return e.abrupt("return",new Promise((function(e){_.Emit(v.SAVE_MOVE_DATA);for(var i=r._getMoveStack([n],n),s=t.getBubble(),l=f(s.node),c=i.length-1;c>=0;c--){var o=i[c];l.to(.03,{position:o.node.getPosition()})}l.call(a(u().mark((function i(){var a;return u().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return a=t.getBubble(),t.setBubble(null),n.setBubble(a),i.next=5,r._onMoveSucess();case 5:e();case 6:case"end":return i.stop()}}),i)})))).start()})));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s._onMoveSucess=function(){var e=a(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._checkBubbleMatch();case 2:return e.next=4,this._growBubbles();case 4:return e.next=6,this._checkBubbleMatch();case 6:return e.next=8,this._newBubbles();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s._checkSameBubbleType=function(e,t){var n;return!!t.getBubble()&&t.getBubble().getType()==(null==e||null==(n=e.getBubble())?void 0:n.getType())},s._checkRow=function(e){for(var n=[e],r=e.getTileIndex().y-1,i=e.getTileIndex().x;r>=0;){var a=this.getTile(r,i);if(!this._checkSameBubbleType(e,a))break;n.push(a),r-=1}for(r=e.getTileIndex().y+1,i=e.getTileIndex().x;r<=t.GRID_SIZE.y-1;){var u=this.getTile(r,i);if(!this._checkSameBubbleType(e,u))break;n.push(u),r+=1}return n},s._checkCol=function(e){for(var n=[e],r=e.getTileIndex().y,i=e.getTileIndex().x-1;i>=0;){var a=this.getTile(r,i);if(!this._checkSameBubbleType(e,a))break;n.push(a),i-=1}for(r=e.getTileIndex().y,i=e.getTileIndex().x+1;i<=t.GRID_SIZE.x-1;){var u=this.getTile(r,i);if(!this._checkSameBubbleType(e,u))break;n.push(u),i+=1}return n},s._checkDiagonalLeft=function(e){for(var n=[e],r=e.getTileIndex().y-1,i=e.getTileIndex().x-1;r>=0&&i>=0;){var a=this.getTile(r,i);if(!this._checkSameBubbleType(e,a))break;n.push(a),r-=1,i-=1}for(r=e.getTileIndex().y+1,i=e.getTileIndex().x+1;r<=t.GRID_SIZE.y-1&&i<=t.GRID_SIZE.x-1;){var u=this.getTile(r,i);if(!this._checkSameBubbleType(e,u))break;n.push(u),r+=1,i+=1}return n},s._checkDiagonalRight=function(e){for(var n=[e],r=e.getTileIndex().y-1,i=e.getTileIndex().x+1;r>=0&&i<=t.GRID_SIZE.x-1;){var a=this.getTile(r,i);if(!this._checkSameBubbleType(e,a))break;n.push(a),r-=1,i+=1}for(r=e.getTileIndex().y+1,i=e.getTileIndex().x-1;r<=t.GRID_SIZE.y-1&&i>=0;){var u=this.getTile(r,i);if(!this._checkSameBubbleType(e,u))break;n.push(u),r+=1,i-=1}return n},s._checkLines=function(){var e=a(u().mark((function e(){var t,n,r,i,a,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=0;t<this._gridMapFlatten.length;t++)n=this._gridMapFlatten[t],r=this._checkRow(n),i=this._checkCol(n),a=this._checkDiagonalLeft(n),s=this._checkDiagonalRight(n),n.updateLineLength(Math.max(r.length,i.length,a.length,s.length));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s._checkPop=function(){var e=a(u().mark((function e(){var n=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){a(u().mark((function r(){var i,a,s,l,c,o,b,h,f,p;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(i=[],a=[],s=0;s<n._gridMapFlatten.length;s++)(l=n._gridMapFlatten[s]).getLineLength()>=t.MIN_BUBBLE_TO_POP&&a.push(l);if(a.length){for(c=t.MIN_BUBBLE_TO_POP,(o=a.length-t.MIN_BUBBLE_TO_POP)>0&&(c+=Math.pow(2,o)),b=0;b<a.length;b++)f=a[b],p=null==(h=f.getBubble())?void 0:h.destroyBubble(),i.push(p),f.setBubble(null);_.Emit(v.SCORE_GAIN,c)}return r.next=6,Promise.all(i);case 6:e();case 7:case"end":return r.stop()}}),r)})))()})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s._checkBubbleMatch=function(){var e=a(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._checkLines();case 2:return e.next=4,this._checkPop();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s._growBubbles=function(){var e=a(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],this._gridMapFlatten.forEach((function(e){var n,r=null==(n=e.getBubble())?void 0:n.growBubble();r&&t.push(r)})),e.next=4,Promise.all(t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s._newBubbles=function(){var e=a(u().mark((function e(){var t,n,r=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getRandomEmptyTiles(3),n=[],t.forEach((function(e){var t=b(r.bubblePrefab);r.bubblesLayer.addChild(t);var i=t.getComponent(g);e.setBubble(i);var a=i.initBubble(r._getRandomBubbleType());n.push(a)})),e.next=5,Promise.all(n);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s._getRandomBubbleType=function(){return this._bubbleTypes[Math.floor(Math.random()*this._bubbleTypes.length)]},s._checkLose=function(){this._gridMapFlatten.filter((function(e){return!e.getBubble()||e.getBubble().isSmallBubble()})).length||this.endGame()},t}(h)).GRID_SIZE={x:9,y:9},w.MIN_BUBBLE_TO_POP=5,I=t((k=w).prototype,"gridTilePrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(k.prototype,"gridTilesLayer",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(k.prototype,"bubblePrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(k.prototype,"bubblesLayer",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=k))||B));s._RF.pop()}}}));

System.register("chunks:///_virtual/GridTile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventEmiiter.ts","./Events.ts"],(function(t){"use strict";var e,n,i,o,s,h,u,r,l;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,o=t.Node,s=t.v2,h=t.Label,u=t.Component},function(t){r=t.EventEmitter},function(t){l=t.default}],execute:function(){var c;n._RF.push({},"eb95any9zRGg6ypU7KrAYtz","GridTile",void 0);var a=i.ccclass;i.property,t("GridTile",a("GameGrid")(c=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this)._row=0,e._col=0,e._pathCost=0,e._pathChecked=!1,e._lineLength=0,e._bubble=null,e}e(n,t);var i=n.prototype;return i.initData=function(t,e){this._row=t,this._col=e,this.initTouchInput(),this.updatePathCost(-1,!1)},i.initTouchInput=function(){var t=this;this.node.on(o.EventType.TOUCH_START,(function(){r.Emit(l.SELECT_TILE,t)}),this)},i.setBubble=function(t){var e,n;null!=(e=this._bubble)&&e.isSmallBubble()&&r.Emit(l.SMALL_BUBBLE_OVERRIDE,this),this._bubble=t,null==(n=this._bubble)||n.node.setWorldPosition(this.node.getWorldPosition())},i.getBubble=function(){return this._bubble},i.getTileIndex=function(){return s(this._col,this._row)},i.getPathCost=function(){return this._pathCost},i.getPathChecked=function(){return this._pathChecked},i.isMoveable=function(){return!this._bubble||this._bubble.isSmallBubble()},i.updatePathCost=function(t,e){this._pathCost=t,this._pathChecked=e,this.getComponentInChildren(h).string=this._row+":"+this._col+"\n"+this._pathCost+(this._pathChecked?"*":"-")},i.updateLineLength=function(t){this._lineLength=t},i.getLineLength=function(){return this._lineLength},n}(u))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/InstanceManager.ts",["cc"],(function(n){"use strict";var t,e;return{setters:[function(n){t=n.cclegacy,e=n.error}],execute:function(){t._RF.push({},"df264odLzJNS4zsZWPeKk+Y","InstanceManager",void 0),n("default",function(){function n(){this._globalInstance=new Map}n.getInstance=function(){return n._instance||(n._instance=new n,globalThis.InstanceManager=n._instance),n._instance};var t=n.prototype;return t.setInstance=function(n,t){this._globalInstance.has(t)?e("["+t+"] already defined!"):this._globalInstance.set(t,n)},t.getInstance=function(n,t){void 0===t&&(t=!1);var a=this._globalInstance.get(n);return a||t||e("["+n+"] is not defined!"),a},n}())._instance=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./Bubble.ts","./FitScreen.ts","./GameGrid.ts","./GridTile.ts","./ScorePanel.ts","./UndoRedo.ts","./ButtonRedo.ts","./ButtonSound.ts","./ButtonUndo.ts","./EventEmiiter.ts","./Events.ts","./InstanceManager.ts","./boolean-fuser.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/ScorePanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventEmiiter.ts","./InstanceManager.ts","./Events.ts"],(function(t){"use strict";var e,n,o,c,r,a,s,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,c=t.Label,r=t.Component},function(t){a=t.EventEmitter},function(t){s=t.default},function(t){i=t.default}],execute:function(){var u;n._RF.push({},"cc969XjntBJhrTIEcsTI3ZG","ScorePanel",void 0);var l=o.ccclass;o.property,t("ScorePanel",l("ScorePanel")(u=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))||this)._labelComponent=void 0,e._score=0,e}e(n,t);var o=n.prototype;return o.onLoad=function(){var t=this;s.getInstance().setInstance(this,"ScorePanel"),this._labelComponent=this.node.getComponentInChildren(c),this.updateScoreText(),a.On(i.NEW_GAME,(function(){t._score=-0,t.updateScoreText()})),a.On(i.SCORE_GAIN,(function(e){t._score+=e,t.updateScoreText()})),a.On(i.ON_UNDO,(function(e){t.updateScoreData(e.score)})),a.On(i.ON_REDO,(function(e){t.updateScoreData(e.score)}))},o.updateScoreText=function(){this._labelComponent.string=String(this._score)},o.getScoreData=function(){return this._score},o.updateScoreData=function(t){this._score=t},n}(r))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/UndoRedo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventEmiiter.ts","./InstanceManager.ts","./Events.ts"],(function(t){"use strict";var e,a,n,o,s,r,i;return{setters:[function(t){e=t.inheritsLoose},function(t){a=t.cclegacy,n=t._decorator,o=t.Component},function(t){s=t.EventEmitter},function(t){r=t.default},function(t){i=t.default}],execute:function(){var c,d;a._RF.push({},"a104dQqg0FBbrPSAwUikrwJ","UndoRedo",void 0);var u=n.ccclass;n.property,t("UndoRedo",u("UndoRedo")(((d=function(t){function a(){for(var e,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this)._undoData=[],e._redoData=[],e}e(a,t);var n=a.prototype;return n.onLoad=function(){var t=this;r.getInstance().setInstance(this,"UndoRedo"),s.On(i.NEW_GAME,this._resetData.bind(this)),s.On(i.SAVE_MOVE_DATA,this._saveData.bind(this)),s.On(i.UNDO_CLICKED,(function(){var e=t._undoData.pop();e&&(t._redoData.push({grid:r.getInstance().getInstance("GameGrid").getGridData(),score:r.getInstance().getInstance("ScorePanel").getScoreData()}),s.Emit(i.ON_UNDO,e),t._updateState())})),s.On(i.REDO_CLICKED,(function(){var e=t._redoData.pop();e&&(t._undoData.push({grid:r.getInstance().getInstance("GameGrid").getGridData(),score:r.getInstance().getInstance("ScorePanel").getScoreData()}),s.Emit(i.ON_REDO,e),t._updateState())}))},n._resetData=function(){this._redoData=[],this._undoData=[],this._updateState()},n._saveData=function(){this._redoData=[],this._undoData.push({grid:r.getInstance().getInstance("GameGrid").getGridData(),score:r.getInstance().getInstance("ScorePanel").getScoreData()}),this._undoData.length>a.MAX_UNDO&&this._undoData.shift(),this._updateState()},n._updateState=function(){s.Emit(i.UNDO_STATE,this._undoData.length>0),s.Emit(i.REDO_STATE,this._redoData.length>0)},a}(o)).MAX_UNDO=5,c=d))||c);a._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});